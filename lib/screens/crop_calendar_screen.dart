import 'package:flutter/material.dart';
import 'package:table_calendar/table_calendar.dart';
import 'package:intl/intl.dart';

enum CropEventType { fertilizer, irrigation, cultivation }

class CropEvent {
  final DateTime date;
  final CropEventType type;
  final String description;

  const CropEvent({
    required this.date,
    required this.type,
    required this.description,
  });
}

class CropCalendarScreen extends StatefulWidget {
  final String cropName;
  final DateTime startDate;

  const CropCalendarScreen({
    super.key,
    required this.cropName,
    required this.startDate,
  });

  @override
  State<CropCalendarScreen> createState() => _CropCalendarScreenState();
}

class _CropCalendarScreenState extends State<CropCalendarScreen> {
  late final DateTime _startDate;
  CalendarFormat _calendarFormat = CalendarFormat.month;
  DateTime _focusedDay = DateTime.now();
  DateTime? _selectedDay;
  late final Map<DateTime, List<CropEvent>> _events;

  @override
  void initState() {
    super.initState();
    _startDate = widget.startDate;
    _events = _generateDummyEvents(widget.cropName);
  }

  Map<DateTime, List<CropEvent>> _generateDummyEvents(String cropName) {
    final Map<DateTime, List<CropEvent>> events = {};

    final cropSchedules = {
      'Rice': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0, 3, 5, 7, 14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84, 91, 98, 105],
        'cultivation': [110],
      },
      'Wheat': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0, 3, 5, 7, 14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84, 91, 98, 105],
        'cultivation': [120],
      },
      'Maize': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0, 3, 5, 7, 14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84, 91, 98, 105],
        'cultivation': [110],
      },
      'Millets': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0, 3, 5, 7, 14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84, 91, 98, 105,112,119,],
        'cultivation': [130],
      },
      'Onion': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0, 3, 5, 7, 14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84, 91, 98, 105,112],
        'cultivation': [120],
      },
      'Bitter Gourd': {
        'fertilizer': [0, 26, 57, 100,130,160,190,],
        'irrigation': [0, 5, 10, 16, 21, 26, 32, 37, 42, 50, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216],
        'cultivation': [55, 63, 70, 76, 82, 90, 96, 102,108,114,120,126,132,138,144,150,156,162,168,174,180,186,192,198,204],
      },
      'Brinjal': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520],
        'irrigation': [0, 5, 10, 16, 21, 26, 32, 37, 42, 50, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,208,214,222,228,234,240,246,252,268,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,370,376,382,388,394,400,406,412,418,424,430,436,442,448,454],
        'cultivation': [ 63, 70, 76, 82, 90, 96, 102,108,114,120,126,132,138,144,150,156,162,168,174,180,186,192,198,204,210,215,220,225,230,235,240,245,250,255,260,265,270,275,280,285,290,295,300,305,310,315,320,325,330,335,340,345,350,355,360,365,370,375,380,385,390,395,400,405,410,415,420,425,430,435,440,445,450,455],
      },
      'Beans': {
        'fertilizer': [0, 26, 57, 100,130,160,190],
        'irrigation': [0, 5, 10, 16, 21, 26, 32, 37, 42, 50, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216],
        'cultivation': [55, 63, 70, 76, 82, 90, 96, 102,108,114,120,126,132,138,144,150,156,162,168,174,180,186,192,198,204],
      },
      'Ladys Finger': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 5, 10, 15, 20, 24, 29, 33, 37, 45,51, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216],
        'cultivation': [50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204],
      },
        
      
      'Green Chilli': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 5, 10, 15, 20, 24, 29, 33, 37, 45,51, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216,222,228,234,240,246,252,258,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,360,366,372,378,384,390,396,402,408,414,420,426,432,438,444,450,456],
        'cultivation': [55,58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265,268,271,274,277,280,283,286,289,292,295,298,301,304,307,310,313,316,319,322,325,328,331,334,337,340,343,346,349,352],
      },
        
        
      'Bottle Gourd': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 5, 10, 15, 20, 24, 29, 33, 37, 45,51, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216,222,228,234,240,246,252,258,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,360,366,372,378,384,390,396,402,408,414,420,426,432,438,444,450,456],
        'cultivation': [70,74,78,82,86,90,94,98,102,106,110,114,118,122,126,130,134,138,142,146,150,154,158,162,166,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,254,258,262,266,270,274,278,282,286,290,294,298,302,306,310,314,318,322,326,330,334,338,342,346,350,354,358,362,366,370,374,378,382,386,390,394,398,402,406,410,414,418,422,426,430,434,438,442,446,450,454,458],
      },
      'Cabbage': {
        'fertilizer': [0, 30,60,90,120,150],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,60,67,74,81,88,95,102,110,117,124,131,138,145,152,160],
        'cultivation': [110,111],
      },
      'Cucumber': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 5, 10, 15, 20, 24, 29, 33, 37, 45,51, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216,222,228,234,240,246,252,258,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,360,366,372,378,384,390,396,402,408,414,420,426,432,438,444,450,456,464,472,480,488,496,504,512,520,528,536,544,552,560,568,576,584,592,600],
        'cultivation': [60,63,66,69,72,75,78,81,84,87,90,93,96,99,102,105,108,111,114,117,120,123,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396,399,402,405,408,411,414,417,420,423,426,429,432,435,438,441,444,447,450,453,456,459,462,465,468,471,474,477,480,483,486,489,492,495,498,501,504,507,510,513,516,519,522,525,528,531,534,537,540,543,546,549,552,555,558,561,564,567,570,573,576,579,582,585,588,591,594,597,600],
      },
      'Fenugreek': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 4,8,13, 18, 23, 28, 35, 42,49,56,63,70,77,84,91,98,105,112,119,126,133,140,147,154,161,168,175,182,189,196,203,210],
        'cultivation': [35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205],
      },
      'Mint Leaves': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 4,8,13, 18, 23, 28, 35, 42,49,56,63,70,77,84,91,98,105,112,119,126,133,140,147,154,161,168,175,182,189,196,203,210],
        'cultivation': [30,55,80,105,130,155,180,205,235,260,285,310,335,360,385,410,435,460,485,510,535,560],
      },
      'Curry Leaves': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 4,8,13, 18, 23, 28, 35, 42,49,56,63,70,77,84,91,98,105,112,119,126,133,140,147,154,161,168,175,182,189,196,203,210],
        'cultivation': [55,80,105,130,155,180,205,235,260,285,310,335,360,385,410,435,460,485,510,535,560],
      },
      'Agathi Leaves': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 4,8,13, 18, 23, 28, 35, 42,49,56,63,70,77,84,91,98,105,112,119,126,133,140,147,154,161,168,175,182,189,196,203,210],
        'cultivation': [55,80,105,130,155,180,205,235,260,285,310,335,360,385,410,435,460,485,510,535,560],
      },
      'Water Spinach': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280],
        'irrigation': [0, 4,8,13, 18, 23, 28, 35, 42,49,56,63,70,77,84,91,98,105,112,119,126,133,140,147,154,161,168,175,182,189,196,203,210],
        'cultivation':[40,65,90,115,140,165,190,215,240,265,290],
      },
      'Purslane': {
        'fertilizer': [0,30],
        'irrigation':  [0, 4,8,13, 18,22,26, 30, 35],
        'cultivation': [35,36],
      },
      'Radish Leaves': {
        'fertilizer': [0, 30],
        'irrigation': [0, 4,8,13, 18, 22,26, 30, 35,41],
        'cultivation': [42,43],
      },
      'Coriander Leaves': {
        'fertilizer': [0, 30],
        'irrigation': [0, 4,8,13, 18, 22, 26, 30],
        'cultivation': [33],
      },
      'Gongura Leaves': {
        'fertilizer': [0, 26],
        'irrigation': [0, 4,8,13, 18, 22,26, 32],
        'cultivation': [36],
      },
      'Amaranthus': {
        'fertilizer': [0, 26],
        'irrigation': [0, 4,8,13, 18, 22, 26, 31],
        'cultivation': [32],
      },
        

      'Tomato': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280,310,340,370,400,430,460,490,520,550],
        'irrigation': [0, 5, 10, 15, 20, 24, 29, 33, 37, 45,51, 57, 66, 74, 81, 86, 92, 100,106,112,124,130,136,142,148,154,160,166,172,178,184,190,196,202,210,216,222,228,234,240,246,252,258,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,360,366,372,378,384,390,396,402,408,414,420,426,432,438,444,450,456],
         'cultivation':[45,49,53,57,61,65,69,73,77,81,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,169,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,233,237,241,245,249,253,257,261,265,269,273,277,281,285,289,293,297,301,305,309,313,317,321,325,329,333,337,341,345,349,353,357,361,365,369,373,377,381,385,389,393,397,401,405,409,413,417,421,425,429,433,437,441,445,449,453,457],
      },
        
      'Spinach': {
        'fertilizer': [0, 26, 57, 100,130,160,190,220,250,280],
        'irrigation': [0, 4,8,13, 18, 23, 28, 35, 42,49,56,63,70,77,84,91,98,105,112,119,126,133,140,147,154,161,168,175,182,189,196,203,210],
        'cultivation':[40,65,90,115,140,165,190,215,240,265,290],
      },
      'Yellow Peas': {
        'fertilizer': [0,30,60,90],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,62,72,82,92,102,112,119],
         'cultivation': [120],
      },
      'Red Lentils': {
        'fertilizer': [0,30,60,90],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,62,72,82,92,102,112,119],
         'cultivation': [120],
      },
      'Kidney Beans': {
        'fertilizer': [0, 30],
        'irrigation': [0,5,10,15,20,25,30,35,40,45,50,55,60],
        'cultivation': [65],
      },
      'Black Gram': {
         'fertilizer': [0, 30,60,90],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,62,72,82,92,100],
        'cultivation': [101],
      },
      'Groundnut': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0,5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,110,120,129],
        'cultivation': [130],
      },
      'Toor Dal': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240],
        'irrigation': [0,5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240],
        'cultivation': [241],
      },
      'Mung Beans': {
        'fertilizer': [0,30,60],
        'irrigation': [0,6,12,18,24,30,36,42,48,54,60,66,72,79],
        'cultivation': [80],
      },
      'Green Peas': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360],
        'irrigation': [0, 6,12,18,24,30,36,42,48,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,150,156,162,168,174,180,186,192,198,204,210,216,222,228,234,240,246,252,258,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,360],
        'cultivation': [85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,169,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,233,237,241,245,249,253,257,261,265,269,273,277,281,285,289,293,297,301],
      },
      'White Peas': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360],
        'irrigation': [0, 6,12,18,24,30,36,42,48,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,150,156,162,168,174,180,186,192,198,204,210,216,222,228,234,240,246,252,258,264,270,276,282,288,294,300,306,312,318,324,330,336,342,348,354,360],
        'cultivation': [101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,169,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,233,237,241,245,249,253,257,261,265,269,273,277,281,285,289,293,297,301],
      },
      'Black Chana': {
        'fertilizer': [0,30,60,90,120],
        'irrigation': [0, 6,12,18,24,30,36,42,48,54,60,66,72,78,84,90,96,102,108,114,120,126],
        'cultivation':[130],
      },
      'White Chana': {
        'fertilizer': [0,30,60,90,120],
        'irrigation': [0, 6,12,18,24,30,36,42,48,54,60,66,72,78,84,90,96,102,108,114,120,126,132],
        'cultivation':[140],
      },
      'Banana': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364],
        'cultivation': [366],
      },
      'Papaya': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994],
        'cultivation': [300,310,320,33,340,350,360,370,380,390,400,410,420,430,440,450,460,470,480,490,500,510,520,530,540,550,560,570,580,590,600,610,620,630,640,650,660,670,680,690,700,710,720,730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1000],
      },
      'Guava': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation': [730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200],
      },
      'Sapota': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation': [730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200],
      },
      'Watermelon': {
        'fertilizer': [0, 30,60,90],
        'irrigation': [0,5,10,15,20,25,30,35,40,47,54,61,68,75,82,89,96],
        'cultivation': [100],
      },
      'Jackfruit': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation':[2555,2585,2615,2645,2675,2705,2735,2765,2795,2825,2855,2885,2915,2945,2975,3005,3035,3065,3095,3125,3155,3185,3215,3245,3275,3305,3335,3365,3395,3425,3455,3485,3515,3545,3575,3605,3635,3665,3695,3725,3755,3785,3815,3845,3875,3905,3935,3965,3995],
      },
      'Pineapple': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,62,72,82,92,102,112,122,132,142,152,162,172,182,192,202,212,222,232,242,252,262,272,282,292,302,312,322,332,342,352,362,372,382,392,402,412,422,432,442,452,462,472,482,492,502,512,522,532,542,552,562,572,582,592],
        'cultivation': [600],
      },
      'Pomegranate': {
        'fertilizer': [0, 35,62,92,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,510,550,580,610,640,670,700,730,760,790,820,850,880,910,940,970,1000,1030,1060,1090,1120,1150,1180,1210,1240,1270,1300,1330,1360,1390,1420,1450,1480,1510,1540,1570,1600,1630,1660,1690,1720,1750,1780,1810,1840,1870,1900],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,62,72,82,92,102,112,122,132,142,152,162,172,182,192,202,212,222,232,242,252,262,272,282,292,302,312,322,332,342,352,362,372,382,392,402,412,422,432,442,452,462,472,482,492,502,512,522,532,542,552,562,572,582,592,602,612,622,632,642,652,662,672,682,692,702,712,722,732,742,752,762,772,782,792,802,812,822,832,842,852,862,872,882,892,902,912,922,932,942,952,962,972,982,992,1002,1012,1022,1032,1042,1052,1062,1072,1082,1092,1102,1112,1122,1132,1142,1152,1162,1172,1182,1192,1202],
        'cultivation': [390,400,410,420,430,440,450,460,470,480,490,500,510,520,530,540,550,560,570,580,590,600,610,620,630,640,650,660,670,680,690,700,710,720,730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900],
      },
      'Muskmelon': {
        'fertilizer': [0, 40],
        'irrigation': [0,5,10,15,20,25,32,39,46,53],
        'cultivation': [60],
      },
      'Grapes': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,52,62,72,82,92,102,112,122,132,142,152,162,172,182,192,202,212,222,232,242,252,262,272,282,292,302,312,322,332,342,352,362,372,382,392,402,412,422,432,442,452,462,472,482,492,502,512,522,532,542,552,562,572,582,592,602,612,622,632,642,652,662,672,682,692,702,712,722,732,742,752,762,772,782,792,802,812,822,832,842,852,862,872,882,892,902,912,922,932,942,952,962,972,982,992,1002,1012,1022,1032,1042,1052,1062,1072,1082,1092,1102,1112,1122,1132,1142,1152,1162,1172,1182,1192,1202],
        'cultivation': [542,552,562,572,582,592,602,612,622,632,642,652,662,672,682,692,702,712,722,732,742,752,762,772,782,792,802,812,822,832,842,852,862,872,882,892,902,912,922,932,942,952,962,972,982,992,1002,1012,1022,1032,1042,1052,1062,1072,1082,1092,1102,1112,1122,1132,1142,1152,1162,1172,1182,1192,1202,],
      },
      'Lemon': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation': [730,740,750,760,770,780,790,800,810,820,830,840,850,860,870,880,890,900,910,920,930,940,950,960,970,980,990,1000,1010,1020,1030,1040,1050,1060,1070,1080,1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200],
      },
      'Orange': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation':[1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200,1210,1220,1230,1240,1250,1260,1270,1280,1290,1300,1310,1320,1330,1340,1350,1360,1370,1380,1390,1400,1410,1420,1430,1440,1450,1460,1470,1480,1490,1500,1510,1520,1530,1540,1550,1560,1570,1580,1590,1600,1610,1620,1630,1640,1650,1660,1670,1680,1690,1700,1710,1720,1730,1740,1750,1760,1770,1780,1790,1800,1810,1820,1830,1840,1850,1860,1870,1880,1890,1900],
      },
      'Custard Apple': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation':[1090,1100,1110,1120,1130,1140,1150,1160,1170,1180,1190,1200,1210,1220,1230,1240,1250,1260,1270,1280,1290,1300,1310,1320,1330,1340,1350,1360,1370,1380,1390,1400,1410,1420,1430,1440,1450,1460,1470,1480,1490,1500,1510,1520,1530,1540,1550,1560,1570,1580,1590,1600,1610,1620,1630,1640,1650,1660,1670,1680,1690,1700,1710,1720,1730,1740,1750,1760,1770,1780,1790,1800,1810,1820,1830,1840,1850,1860,1870,1880,1890,1900],
      },
      'Tamarind': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation':[2900],
      },
      'Mango': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1260,1320,1380,1440,1500,1560,1620,1680,1740,1800,1860,1920,1980,2040,2100,2160,2220,2280,2340,2400,2460,2520,2580,2640,2700,2760,2820,2880,2940,3000],
        'irrigation': [0, 7, 14, 21, 28, 35, 42,54,60,66,72,78,84,90,96,102,108,114,120,126,132,138,144,154,164,174,184,194,204,214,224,234,244,254,264,274,284,294,304,314,324,334,354,364,374,384,394,404,414,424,434,444,454,464,474,484,494,504,514,524,534,544,554,564,574,584,594,604,614,624,634,644,654,664,674,684,694,704,714,724,734,744,754,764,774,784,794,804,814,824,834,844,854,864,874,884,894,904,914,924,934,944,954,964,974,984,994,1004,1014,1024,1034,1044,1054,1064,1074,1084,1094,1104,1114,1124,1134,1144,1154,1164,1174,1184,1194,1204,1214,1224,1234,1244,1254,1264,1274,1284,1294,1304,1314,1324,1334,1344,1354,1364,1374,1384,1394,1404,1414,1424,1434,1444,1454,1464,1474,1484,1494,1504,1514,1524,1534,1544,1554,1564,1574,1584,1594,1604,1614,1624,1634,1644,1654,1664,1674,1684,1694,1704,1714,1724,1734,1744,1754,1764,1774,1784,1794,1804,1814,1824,1834,1844,1854,1864,1874,1884,1894,1904,1914,1924,1934,1944,1954,1964,1974,1984,1994],
        'cultivation':[1810,1820,1830,1840,1850,1860,1870,1880,1890,1900,1910,1920,1930,1940,1950,1960,1970,1980,1990,2000,2010,2020,2030,2040,2050,2060,2070,2080,2090,2100,2110,2120,2130,2140,2150,2160,2170,2180,2190,2200,2210,2220,2230,2240,2250,2260,2270,2280,2290,2300],
      }, 
      'Jasmine': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,71,78,85,92,99,106,113,120,127,134,141,148,155,162,169,176,183,190,197,204,211,218,225,232,239,246,253,260,267,274,281,288,295,302,309,316,323,330,337,344,351,358,365,372,379,386,393,400,407,414,421,428,435,442,449,456,463,470,477,484,491,498,505,512,519,526,533,540,547,554,561,568,575,582,589,596,603,610,617,624,631,638,645,652,659,666,673,680,687,694,701,708,715,722,729,736,743,750,757,764,771,778,785,792,799],
        'cultivation': [212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400],
      },
      'Rose': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240,245,250,255,260,265,270,275,280,285,290,295,300,305,310,315,320,325,330,335,340,345,350,355,360,365,370,375,380,385,390,395,400],
        'cultivation': [210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279,282,285,288,291,294,297,300,303,306,309,312,315,318,321,324,327,330,333,336,339,342,345,348,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396,399,402,405,408,411,414,417,420],
      },
      'Marigold': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240,245,250,255,260,265,270,275,280,285,290,295,300,305,310,315,320,325,330,335,340,345,350,355,360,365,370,375,380,385,390,395,400],
        'cultivation': [60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,312,314,316,318,320],
      },
      'Chrysanthemum': {
        'fertilizer': [0, 30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240,245,250,255,260,265,270,275,280,285,290,295,300,305,310,315,320,325,330,335,340,345,350,355,360,365,370,375,380,385,390,395,400],
        'cultivation': [60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,312,314,316,318,320],
      },
        
      'Lotus': {
        'fertilizer': [0, 30,60,90,120],
        'irrigation': [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],
        'cultivation': [120],
      },
      'Mullai': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,71,78,85,92,99,106,113,120,127,134,141,148,155,162,169,176,183,190,197,204,211,218,225,232,239,246,253,260,267,274,281,288,295,302,309,316,323,330,337,344,351,358,365,372,379,386,393,400,407,414,421,428,435,442,449,456,463,470,477,484,491,498,505,512,519,526,533,540,547,554,561,568,575,582,589,596,603,610,617,624,631,638,645,652,659,666,673,680,687,694,701,708,715,722,729,736,743,750,757,764,771,778,785,792,799],
        'cultivation': [115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],
      },
        
      'Sunflower': {
        'fertilizer': [0, 30,60],
        'irrigation': [0, 4,8,12,16,20,27,37,47,57,67],
        'cultivation': [75],
      },
      'Royal Jasmine': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,71,78,85,92,99,106,113,120,127,134,141,148,155,162,169,176,183,190,197,204,211,218,225,232,239,246,253,260,267,274,281,288,295,302,309,316,323,330,337,344,351,358,365,372,379,386,393,400,407,414,421,428,435,442,449,456,463,470,477,484,491,498,505,512,519,526,533,540,547,554,561,568,575,582,589,596,603,610,617,624,631,638,645,652,659,666,673,680,687,694,701,708,715,722,729,736,743,750,757,764,771,778,785,792,799],
        'cultivation': [202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],
      },
        
      'Crossandra': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,71,78,85,92,99,106,113,120,127,134,141,148,155,162,169,176,183,190,197,204,211,218,225,232,239,246,253,260,267,274,281,288,295,302,309,316,323,330,337,344,351,358,365,372,379,386,393,400,407,414,421,428,435,442,449,456,463,470,477,484,491,498,505,512,519,526,533,540,547,554,561,568,575,582,589,596,603,610,617,624,631,638,645,652,659,666,673,680,687,694,701,708,715,722,729,736,743,750,757,764,771,778,785,792,799],
        'cultivation':[70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,312,314,316,318,320],
      },
      'Hibiscus': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,71,78,85,92,99,106,113,120,127,134,141,148,155,162,169,176,183,190,197,204,211,218,225,232,239,246,253,260,267,274,281,288,295,302,309,316,323,330,337,344,351,358,365,372,379,386,393,400,407,414,421,428,435,442,449,456,463,470,477,484,491,498,505,512,519,526,533,540,547,554,561,568,575,582,589,596,603,610,617,624,631,638,645,652,659,666,673,680,687,694,701,708,715,722,729,736,743,750,757,764,771,778,785,792,799],
        'cultivation': [115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],
      },
      'Damask Rose': {
        'fertilizer': [0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200],
        'irrigation': [0, 4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,71,78,85,92,99,106,113,120,127,134,141,148,155,162,169,176,183,190,197,204,211,218,225,232,239,246,253,260,267,274,281,288,295,302,309,316,323,330,337,344,351,358,365,372,379,386,393,400,407,414,421,428,435,442,449,456,463,470,477,484,491,498,505,512,519,526,533,540,547,554,561,568,575,582,589,596,603,610,617,624,631,638,645,652,659,666,673,680,687,694,701,708,715,722,729,736,743,750,757,764,771,778,785,792,799],
        'cultivation': [150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],
      },
    };

    final schedule = cropSchedules[cropName] ?? cropSchedules['default']!;

    for (final day in schedule['fertilizer']!) {
      final eventDate = _startDate.add(Duration(days: day));
      final event = CropEvent(
        date: eventDate,
        type: CropEventType.fertilizer,
        description: 'Apply fertilizer to $cropName',
      );

      final normalizedDate = DateTime(
        eventDate.year,
        eventDate.month,
        eventDate.day,
      );
      events[normalizedDate] = [...(events[normalizedDate] ?? []), event];
    }

    for (final day in schedule['irrigation']!) {
      final eventDate = _startDate.add(Duration(days: day));
      final event = CropEvent(
        date: eventDate,
        type: CropEventType.irrigation,
        description: 'Irrigate $cropName',
      );

      final normalizedDate = DateTime(
        eventDate.year,
        eventDate.month,
        eventDate.day,
      );
      events[normalizedDate] = [...(events[normalizedDate] ?? []), event];
    }

    for (final day in schedule['cultivation']!) {
      final eventDate = _startDate.add(Duration(days: day));
      final event = CropEvent(
        date: eventDate,
        type: CropEventType.cultivation,
        description: 'Cultivate $cropName',
      );

      final normalizedDate = DateTime(
        eventDate.year,
        eventDate.month,
        eventDate.day,
      );
      events[normalizedDate] = [...(events[normalizedDate] ?? []), event];
    }

    return events;
  }

  List<CropEvent> _getEventsForDay(DateTime day) {
    final normalizedDay = DateTime(day.year, day.month, day.day);
    return _events[normalizedDay] ?? [];
  }

  Color _getEventColor(CropEventType type) {
    switch (type) {
      case CropEventType.fertilizer:
        return Colors.green;
      case CropEventType.irrigation:
        return Colors.blue;
      case CropEventType.cultivation:
        return Colors.orange;
    }
  }

  String _getEventTypeName(CropEventType type) {
    switch (type) {
      case CropEventType.fertilizer:
        return 'Fertilizer';
      case CropEventType.irrigation:
        return 'Irrigation';
      case CropEventType.cultivation:
        return 'Cultivation';
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('${widget.cropName} Calendar'),
        backgroundColor: Colors.green,
      ),
      body: SafeArea(
        child: Column(
          children: [
            Container(
              padding: const EdgeInsets.all(16),
              color: Colors.green.shade50,
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    widget.cropName,
                    style: const TextStyle(
                      fontSize: 24,
                      fontWeight: FontWeight.bold,
                      color: Colors.green,
                    ),
                  ),
                  const SizedBox(height: 4),
                  Text(
                    'Started on ${DateFormat('MMM dd, yyyy').format(_startDate)}',
                    style: const TextStyle(fontSize: 16, color: Colors.black54),
                  ),
                ],
              ),
            ),

            Container(
              padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                children: [
                  _buildLegendItem(Colors.green, 'Fertilizer'),
                  _buildLegendItem(Colors.blue, 'Irrigation'),
                  _buildLegendItem(Colors.orange, 'Cultivation'),
                ],
              ),
            ),

            TableCalendar<CropEvent>(
              firstDay: _startDate.subtract(const Duration(days: 30)),
              lastDay: _startDate.add(const Duration(days: 5000)),
              focusedDay: _focusedDay,
              selectedDayPredicate: (day) => isSameDay(_selectedDay, day),
              calendarFormat: _calendarFormat,
              eventLoader: _getEventsForDay,
              startingDayOfWeek: StartingDayOfWeek.monday,
              calendarStyle: CalendarStyle(
                selectedDecoration: const BoxDecoration(
                  color: Colors.green,
                  shape: BoxShape.circle,
                ),
                todayDecoration: BoxDecoration(
                  color: Colors.green.withOpacity(0.3),
                  shape: BoxShape.circle,
                ),
                markerDecoration: const BoxDecoration(
                  color: Colors.transparent,
                  shape: BoxShape.circle,
                ),
              ),
              headerStyle: const HeaderStyle(
                formatButtonVisible: false,
                titleCentered: true,
              ),
              onDaySelected: (selectedDay, focusedDay) {
                setState(() {
                  _selectedDay = selectedDay;
                  _focusedDay = focusedDay;
                });
              },
              onFormatChanged: (format) {
                setState(() {
                  _calendarFormat = format;
                });
              },
              onPageChanged: (focusedDay) {
                _focusedDay = focusedDay;
              },
              calendarBuilders: CalendarBuilders(
                markerBuilder: (context, date, events) {
                  if (events.isEmpty) return const SizedBox();

                  return Positioned(
                    bottom: 1,
                    child: Row(
                      mainAxisSize: MainAxisSize.min,
                      children: events.map((event) {
                        return Container(
                          width: 6,
                          height: 6,
                          margin: const EdgeInsets.symmetric(horizontal: 1),
                          decoration: BoxDecoration(
                            color: _getEventColor(event.type),
                            shape: BoxShape.circle,
                          ),
                        );
                      }).toList(),
                    ),
                  );
                },
              ),
            ),

            const SizedBox(height: 16),

            if (_selectedDay != null) ...[
              Container(
                padding: const EdgeInsets.all(16),
                margin: const EdgeInsets.symmetric(horizontal: 16),
                decoration: BoxDecoration(
                  color: Colors.white,
                  borderRadius: BorderRadius.circular(12),
                  boxShadow: [
                    BoxShadow(
                      color: Colors.black.withOpacity(0.1),
                      blurRadius: 4,
                      offset: const Offset(0, 2),
                    ),
                  ],
                ),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      DateFormat('EEEE, MMM dd').format(_selectedDay!),
                      style: const TextStyle(
                        fontSize: 18,
                        fontWeight: FontWeight.bold,
                      ),
                    ),
                    const SizedBox(height: 12),
                    ..._getEventsForDay(_selectedDay!).map((event) {
                      return Container(
                        margin: const EdgeInsets.only(bottom: 8),
                        padding: const EdgeInsets.all(12),
                        decoration: BoxDecoration(
                          color: _getEventColor(event.type).withOpacity(0.1),
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(
                            color: _getEventColor(event.type),
                            width: 1,
                          ),
                        ),
                        child: Row(
                          children: [
                            Icon(
                              _getEventIcon(event.type),
                              color: _getEventColor(event.type),
                              size: 20,
                            ),
                            const SizedBox(width: 12),
                            Expanded(
                              child: Column(
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    _getEventTypeName(event.type),
                                    style: TextStyle(
                                      fontWeight: FontWeight.bold,
                                      color: _getEventColor(event.type),
                                    ),
                                  ),
                                  Text(
                                    event.description,
                                    style: const TextStyle(
                                      fontSize: 14,
                                      color: Colors.black87,
                                    ),
                                  ),
                                ],
                              ),
                            ),
                          ],
                        ),
                      );
                    }).toList(),
                    if (_getEventsForDay(_selectedDay!).isEmpty)
                      const Center(
                        child: Padding(
                          padding: EdgeInsets.all(16),
                          child: Text(
                            'No activities scheduled for this day',
                            style: TextStyle(
                              color: Colors.black54,
                              fontStyle: FontStyle.italic,
                            ),
                          ),
                        ),
                      ),
                  ],
                ),
              ),
            ],
          ],
        ),
      ),
    );
  }

  Widget _buildLegendItem(Color color, String label) {
    return Row(
      children: [
        Container(
          width: 12,
          height: 12,
          decoration: BoxDecoration(color: color, shape: BoxShape.circle),
        ),
        const SizedBox(width: 4),
        Text(label, style: const TextStyle(fontSize: 12)),
      ],
    );
  }

  IconData _getEventIcon(CropEventType type) {
    switch (type) {
      case CropEventType.fertilizer:
        return Icons.grass;
      case CropEventType.irrigation:
        return Icons.water_drop;
      case CropEventType.cultivation:
        return Icons.agriculture;
    }
  }
}
